<div class="container mt-5">
    <h2 class="text-center mb-4">Create New Product</h2>
    <form asp-action="Create" asp-controller="Product" method="post" enctype="multipart/form-data">
        <!-- Product Details -->
        <div class="form-group mb-3">
            <label for="Name">Product Name</label>
            <input type="text" class="form-control" id="Name" name="Name" placeholder="Enter product name" required />
        </div>

        <div class="form-group mb-3">
            <label for="Brand">Brand</label>
            <input type="text" class="form-control" id="Brand" name="Brand" placeholder="Enter brand name" required />
        </div>

        <div class="form-group mb-3">
            <label for="Description">Description</label>
            <textarea class="form-control" id="Description" name="Description" placeholder="Enter product description" rows="4" required></textarea>
        </div>

        <div class="form-group mb-3">
            <label for="Title">Title</label>
            <input type="text" class="form-control" id="Title" name="Title" placeholder="Enter product title" required />
        </div>

        <div class="form-group mb-3">
            <label for="Count">Total Quantity</label>
            <input type="number" class="form-control" id="Count" name="Count" placeholder="Enter total quantity" required min="1" />
        </div>

        <div class="form-group mb-3">
            <label for="CategoryId">Category</label>
            <select class="form-control" id="CategoryId" name="CategoryId" required>
                <option value="" disabled selected>Select a category</option>
                @* Dynamically populate categories *@
               @*  @foreach (var category in ViewBag.Categories)
                {
                    <option value="@category.Id">@category.Name</option>
                } *@
            </select>
        </div>

        <!-- Product Sizes -->
        <div class="form-group mb-3">
            <label>Product Sizes</label>
            <div id="size-container">
                <!-- Dynamic Product Size Input Fields -->
            </div>
            <button type="button" class="btn btn-secondary mt-2" id="add-size-btn">Add Size</button>
        </div>

        <!-- General Product Images -->
        <div class="form-group mb-3">
            <label for="ProductImages">General Product Images</label>
            <input type="file" class="form-control" id="ProductImages" name="ProductImages" multiple />
        </div>

        <!-- IsHover Images -->
        <div class="form-group mb-3">
            <label for="HoverImages">Hover Images</label>
            <input type="file" class="form-control" id="HoverImages" name="HoverImages" multiple />
        </div>

        <!-- IsMain Image -->
        <div class="form-group mb-3">
            <label for="MainImage">Main Image</label>
            <input type="file" class="form-control" id="MainImage" name="MainImage" />
        </div>

        <button type="submit" class="btn btn-primary">Create Product</button>
    </form>
</div>
<script>
    document.getElementById('add-size-btn').addEventListener('click', function () {
        const sizeContainer = document.getElementById('size-container');
        const sizeIndex = sizeContainer.children.length;

        const sizeRow = document.createElement('div');
        sizeRow.classList.add('row', 'mb-2');

        sizeRow.innerHTML = `
                <div class="col-md-3">
                    <input type="text" class="form-control" name="ProductSizes[${sizeIndex}].Size" placeholder="Size" required />
                </div>
                <div class="col-md-3">
                    <input type="number" class="form-control" name="ProductSizes[${sizeIndex}].Price" placeholder="Price" required min="0" step="0.01" />
                </div>
                <div class="col-md-3">
                    <input type="number" class="form-control" name="ProductSizes[${sizeIndex}].Count" placeholder="Quantity" required min="1" />
                </div>
                <div class="col-md-3">
                    <button type="button" class="btn btn-danger remove-size-btn">Remove</button>
                </div>
            `;

        sizeContainer.appendChild(sizeRow);

        // Remove size row functionality
        sizeRow.querySelector('.remove-size-btn').addEventListener('click', function () {
            sizeContainer.removeChild(sizeRow);
        });
    });
</script>
